Sei un esperto senior di Javascript vanilla.
Il codice sorgente di questo progetto deve continuare ad essere serverless (cioè deve poter funzionare in modo statico senza un server che fa serve della pagina: ovvero doppio click su html e lavori sul browser; mentre per le funzioni GOOGLE-API sarà necessario al più avviare python server in locale) in modo tale che segua le best-practice di un codice sorgente ben scritto, facilissimo da comprendere e da leggere e ben commentato.
Meglio se riesci a lasciare tutto su un file unico html, ma ben organizato al suo interno.

Aggiornamenti svolti:
- Il dominio e le viste descritte di seguito sono stati implementati e rappresentano lo stato attuale dell'applicazione.
- L'integrazione Google Drive salva e apre esclusivamente dalla cartella "Kanban_Covey_BigRocks" (creata automaticamente se assente).
- Ogni salvataggio su Google Drive genera un nuovo file `kanban_covey_bigrocks_aaaaMMgg_hhmm_ss_ccc.json`, lasciando le versioni precedenti intatte.
- Le viste "Attività" e "Dashboard" includono filtri aggiuntivi per Ruolo, obiettivi LT e BT.
- Il dominio ora memorizza le date di raggiungimento effettivo (LT/BT) e di chiusura task, organizzando i BT in sprint con periodo e sprint corrente.
- La vista "Obiettivi a breve termine" espone una striscia di sprint centrata con frecce di navigazione, evidenzia lo sprint corrente e mantiene sincronizzati i filtri di Attività e Dashboard sullo sprint selezionato.
- La strip degli sprint occupa l'intera larghezza disponibile, mantenendo stabile il layout e visualizzando le ellissi quando sono presenti sprint non visibili.
- Nella vista "Attività" il pulsante "+ Attività" aggiunge i nuovi task all'obiettivo BT dello sprint selezionato, segnalando di creare prima un BT se lo sprint non ne contiene.
- Strip sprint, controlli e dettagli (Nome/Inizio/Fine) sono raccolti nel drawer riutilizzabile "Gestione sprint", condiviso tra le viste Obiettivi BT, Attività e Dashboard: mantiene lo stato di apertura e si apre/chiude solo dalla relativa linguetta.
- Ogni attività memorizza una stima in ore: è modificabile dalla vista "Attività" (con intestazioni compatte e tooltip) ed è visualizzata in Dashboard con un badge dedicato.
- Calcolo live e in cache di priority e quadrante per ogni attività, configurabile da codice (scala minima/massima, bilanciamento e scelta quadrante fisso/dinamico), esposto come colonne non editabili in Attività, badge in Dashboard e usato nella nuova vista Statistiche.
- Aggiunta la vista "Statistiche" con il pannello Quadranti: mostra i task dello sprint corrente su un piano tempo/importanza con tooltip e controllo fullscreen.
- Le scadenze delle attività ereditano BT → LT → fine sprint quando mancanti, i tooltip del pannello Quadranti hanno margini visibili e i quadranti dinamici sono coperti da test JS standalone.
- Nel pannello Quadranti gli assi seguono le soglie dinamiche TH/TL e IH/IL e la console traccia passo-passo i calcoli di priority/quadrante per ogni task.
- I quadranti della vista Statistiche hanno sfondi tenui e semitrasparenti, abbinati al colore dei badge Q1/Q2/Q3/Q4 e posizionati sotto assi, tooltip e puntini.
- Nel pannello Quadranti il tooltip mostra i valori numerici (3 cifre significative) di tempo/importanza e delle soglie usate, al posto delle etichette TL/TH/IL/IH.
- Il calcolo di priority/quadrante usa esclusivamente le attività dello sprint selezionato e la vista Statistiche mostra il pannello "Quadranti attività dello sprint" insieme al pannello "Quadranti obiettivi a lungo termine".
- Le tabelle (Ruoli, LT, BT, Attività) mantengono l'ordinamento scelto anche dopo modifiche e rerender della vista.
- La vista Statistiche aggiorna i quadranti al cambio sprint e mostra tooltip centrati (id • titolo su due righe) con valori tempo/importanza, mantenendo etichette/soglie TH/TL/IH/IL posizionate fuori dal grafico con i valori numerici accanto.
- Le etichette IH/IL/TH/TL sono posizionate all'esterno del grafico (IH in alto a sinistra, IL in basso a sinistra, TH in basso a sinistra, TL in basso a destra) allineate con le relative soglie mostrate a 3 cifre significative sulla stessa colonna/riga.

Partiamo dal DOMINIO, ovvero il nostro JSON.
La radice contiene la collezione di "Ruoli" (con titolo e importanza) e, accanto a questi, la collezione di "Sprint" con id, nome, date di inizio/fine e l'elenco dei BT associati, oltre al riferimento `currentSprintId` che indica lo sprint attivo.
Ogni obiettivo LT ha titolo, descrizione, importanza e scadenza obbligatorie e memorizza la data di raggiungimento effettivo (`achieved_on`). Può essere scomposto in "obiettivi a breve termine" (ST) con titolo, descrizione, importanza opzionale, scadenza opzionale e la propria `achieved_on`.
Gli obiettivi ST racchiudono le attività e sono collegati a uno sprint tramite `sprint_id`. Ciascuna attività ha titolo, descrizione, importanza opzionale, scadenza opzionale, stato e la data di chiusura effettiva (`closed_on`).
Lo stato di una attività può assumere uno dei seguenti valori: "Da pensare meglio" (grigio), "Da fare" (azzurro), "In evoluzione" (giallo), "Paused" (arancione), "Fatto" (verde), "Rejected" (rosso).
La gerarchia è quindi: Ruolo → Obiettivo lungo termine → Obiettivo breve termine → Attività.
Gli obiettivi LT devono sempre avere importanza e scadenza. Gli elementi figli ereditano importanza e scadenza quando non sono valorizzati, e possono personalizzarli solo rispettando i vincoli: nessuna scadenza oltre il genitore (e antenati) e nessuna importanza superiore a quella del genitore (e antenati).


Adesso passiamo alle VISTE che desideriamo avere.
Premesso che restano sempre visibili i tasti di salvataggio in alto (com'è oggi) e l'indicatore se Google Drive è connesso, è necessaria una revisione totale del resto.
Ci saranno i seguenti TAB, ciascuno mostrerà una sotto-vista differente:
- Ruoli: permette di impostare i ruoli.
- Obiettivi a lungo termine: permette di definire, modificare o eliminare gli obiettivi (operazioni di modifica o eliminazione devono controllare che gli oggetti figli siano coerenti: in caso di eliminazione ci vuole un alert prima e poi la cancellazione anche dei figli; in caso di modifica dell'importanza e della scadenza: vanno presi anche tutti i figli e se la loro scadenza o importanza eccede, vanno riportati al nuovo valore massimo).
- Obiettivi a breve termine: mostra una striscia orizzontale di sprint (mettendo in evidenza quello corrente) per navigare gli obiettivi BT dello sprint selezionato, consentendo di gestire periodo, sprint corrente e date di raggiungimento dei BT oltre alle attività sottostanti.
- Attività: pannello dove si può agire sulle attività, modificando anche lo stato tramite un menù a tendina. La vista espone un blocco filtri condiviso con la Dashboard (intervallo di importanza con estremi aperti, stato, intervallo di scadenza con estremi aperti e ricerca full text su titolo/descrizione) e pulsanti per esportare in CSV tutte le attività visibili e per importare un CSV con la stessa struttura, associando i task ai genitori per nome e creando gli antenati mancanti.
- Dashboard: vista a card organizzata in una Kanban con colonne corrispondenti ai vari stati delle attività. Ogni card mostra in breve la gerarchia di provenienza, il titolo del task, i primi N caratteri della descrizione, l'importanza e la scadenza; trascinando una card in un'altra colonna si aggiorna lo stato dell'attività. Anche qui sono presenti lo stesso blocco filtri della vista Attività e i comandi di import/export CSV delle attività correnti.
 - le card restano ordinate per importanza decrescente e il drop è attivo sull'intera colonna, non solo sui placeholder o sopra le cards

Tutti i tab descritti sopra organizzano i valori in tabelle che sono ordinabili per i vari campi.

Altre considerazioni:
- Dominio / Obiettivi / Attività: Quando si effettua una modifica (ad es. sull'importanza) i controlli e la normalizzazione (es. degli oggetti antenati) viene fatta possibilmente al blur. (Quindi ad es. l'importanza non può superare quella del genitore neppure durante la digitazione o con gli spinner.)

TODO:
- Mobile first: ??? definire i dettagli da vedere per ciascuna vista
- Aggiungere il "Mission" tab
- Ampliare la vista di statistiche e performance (burndown chart, velocity, ecc)
- Modale sull'attività: con doppio click??? (da valutare) si deve aprire la modale con TUTTE le informazioni dell'attività (inclusi i riferimenti ai genitori) e la possibilità di modificarle tutte in un colpo solo con tasto salva. Vengono mostrari anche i dati calcolati (come quadrante e priority) tuttavia questi non sono modificabili in quanto calcolati e derivati da altri dati.
- Archiviazione della settimana: da capire meglio come gestire la settimana e i task non raggiunti, oppure i task in backlog (copiarli in massa? o solo spostarli?)

